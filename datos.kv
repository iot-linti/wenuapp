<GridLayout>:
    cols: 2
<ActionSpinner@Spinner+ActionItem>
    canvas.before:
        Color:
            rgba: 0.128, 0.128, 0.128, 1
        Rectangle:
            size: self.size
            pos: self.pos
    border: 27, 20, 12, 12



#:import win kivy.core.window


<Info>:
    screen_manager: screen_manager
    #on_left_to_right_line: screen_manager.current = 'info';  screen_manager.transition.direction = 'right'

    ScreenManager:
        id: screen_manager
        Screen:
            name: 'inicio'
            id: inicio

            BoxLayout:
                orientation: 'vertical'

                GridLayout:
                    Label:
                        text: 'Usuario:'
                        size_hint: (0.4, 1)
                        valign: 'bottom'

                    TextInput:
                        id: usuario
                        cursor_blink: True
                        hint_text: 'nombre'
                        text: 'lihuen'
                        multiline: False

                    Label:
                        text: u'Contraseña:'
                        size_hint: (0.4, 1)
                        valign: 'bottom'
                    TextInput:
                        id: password
                        cursor_blink: True
                        hint_text: u'contraseña'
                        text: '***REMOVED***'
                        password: True
                        multiline: False

                GridLayout:
                    Button:
                        id: conectar
                        text: 'Conectar'
                        background_color: (1.5, 1.0, 0.0, 1.0)
                        on_release: root.iniciar(inicio, 'piso_1')

                    Button:
                        text: 'Quit'
                        on_release: root.onBackBtn()

       


				BoxLayout:
					name: 'historial'
					id: historial

					ScrollView:
						id: scroll_grid
						canvas.before:
							Color:
								rgb: 0, 0, 0
							Rectangle:
								size: self.size
						#size_hint_y: None
						#size: self.size
						#size: self.parent.size[0],self.parent.size[1] -20
						size_hint: 1, 1#None
						#height: 400
						GridLayout:
							id: grid_filter
							cols: 5
							#rows: 1
							#height: 30
							spacing: 30
							size_hint_y: None
							#size_hint: .02,None
							Button:
								id: actualizar
								size_hint: .09,.05
								#height: 30
								text: 'Actualizar'
								on_press: root.actualizar()
							Label:
								id: label_ini
								text: 'Inicio:'
								size_hint: .01,None
								#height: 30
							Spinner:
								id: cantidad_ini
								size_hint: .09,.05
								#height: 30
								text: "1"
								values: "1","21","61","81","101"
							Label:
								id: label_fin
								text: 'Fin:'
								size_hint: .01,None
								#height: 30
							Spinner:
								id: cantidad_fin
								size_hint: .09,.05
								#height: 30
								text: "20"
								values: "20","40","60","80","100"


<Mota>:
	background_color: (0.0, 0.0, 0.0, 0.0)
	size_hint: (0.1, .1)
	markup: True
	valign: 'bottom'
	
<Piso>:
	flayout: flayout_id
	
	FloatLayout:
		id: flayout_id
		size: self.parent.size
		Label:
			id: fecha
			size_hint: (0.8, .1)
			pos_hint: {'top': 1.01, 'right': .6}
			text: 'Ultima actualización: '
			markup: True
		Button:
			id: actualizar
			size_hint: .09,.05
			#height: 30
			pos_hint: {'bottom':1,'right':.1}
			text: 'Actualizar'
			on_press: self.actualizar_mapa()
